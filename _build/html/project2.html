
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>A Visual Exploration of GDP and Energy Supply &#8212; Yichun&#39;s Portfolio</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'project2';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Visualization" href="project1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Yichun's Portfolio</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Yichun’s Portfolio
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="lecture_16_example.html">Lecture 16 Example..</a></li>

<li class="toctree-l1"><a class="reference internal" href="project1.html">Visualization</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">A Visual Exploration of GDP and Energy Supply</a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/project2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>A Visual Exploration of GDP and Energy Supply</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">A Visual Exploration of GDP and Energy Supply</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#first-dataset-energy-supply-per-capita">First Dataset: Energy supply per capita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#second-dataset-gdp-per-capita">Second Dataset: GDP per capita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#merge-two-datasets-together-and-analyze">Merge two datasets together and analyze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways:</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="a-visual-exploration-of-gdp-and-energy-supply">
<h1>A Visual Exploration of GDP and Energy Supply<a class="headerlink" href="#a-visual-exploration-of-gdp-and-energy-supply" title="Link to this heading">#</a></h1>
<p>When we think about what makes a country wealthy, and what powers its daily life and industries, two indicators immediately come to mind: GDP per capita and energy supply per capita. GDP per capita tells us how much economic value a country generates for each person. Energy supply per capita tells us how much energy each person “has” behind their lifestyle, infrastructure, and the economy as a whole.</p>
<p>When thinking about the relationship between these two variables, my initial assumption is that they should be positively related. Richer countries tend to use more energy, and greater energy availability can, in turn, support industrial activity and technological progress—both of which drive economic growth. But this is only a rough, intuitive guess. To know whether this pattern truly holds, I need real data rather than assumptions.</p>
<p>To explore this question, I selected two datasets that contain GDP per capita and energy supply per capita, extracted the relevant variables, and merged them into a single table. With this combined dataset, I then used visualizations to examine whether the actual data supports my initial intuition or reveals a different story altogether.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; First, import the packages needed to load and process the datasets, </span>
<span class="sd">    as well as the packages required for visualization&quot;&quot;&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.express</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">px</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_subplots</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="first-dataset-energy-supply-per-capita">
<h1>First Dataset: Energy supply per capita<a class="headerlink" href="#first-dataset-energy-supply-per-capita" title="Link to this heading">#</a></h1>
<p>The data on total energy supply per capita comes from the Energy Institute’s dataset: <a class="reference external" href="https://www.energyinst.org/statistical-review/resources-and-data-downloads">https://www.energyinst.org/statistical-review/resources-and-data-downloads</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the dataset that includes total energy supply per capita data</span>
<span class="n">energy_supply_per_capita</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;Narrow format.xlsx&quot;</span><span class="p">)</span>
<span class="n">energy_supply_per_capita</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Year</th>
      <th>ISO3166_alpha3</th>
      <th>ISO3166_numeric</th>
      <th>Region</th>
      <th>SubRegion</th>
      <th>OPEC</th>
      <th>EU</th>
      <th>OECD</th>
      <th>CIS</th>
      <th>Var</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>biogeo_ej</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>co2_combust_mtco2</td>
      <td>5.568753</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>co2_combust_pc</td>
      <td>0.007229</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>co2_combust_per_ej</td>
      <td>4.242345</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>coalcons_ej</td>
      <td>0.002931</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>293229</th>
      <td>Zimbabwe</td>
      <td>2023</td>
      <td>ZWE</td>
      <td>716.0</td>
      <td>Africa</td>
      <td>Eastern Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>lithium_kt</td>
      <td>14.900000</td>
    </tr>
    <tr>
      <th>293230</th>
      <td>Zimbabwe</td>
      <td>2024</td>
      <td>ZWE</td>
      <td>716.0</td>
      <td>Africa</td>
      <td>Eastern Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>coalprod_ej</td>
      <td>0.156511</td>
    </tr>
    <tr>
      <th>293231</th>
      <td>Zimbabwe</td>
      <td>2024</td>
      <td>ZWE</td>
      <td>716.0</td>
      <td>Africa</td>
      <td>Eastern Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>coalprod_mt</td>
      <td>5.797470</td>
    </tr>
    <tr>
      <th>293232</th>
      <td>Zimbabwe</td>
      <td>2024</td>
      <td>ZWE</td>
      <td>716.0</td>
      <td>Africa</td>
      <td>Eastern Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>lithium_kt</td>
      <td>22.000000</td>
    </tr>
    <tr>
      <th>293233</th>
      <td>Zimbabwe</td>
      <td>2024</td>
      <td>ZWE</td>
      <td>716.0</td>
      <td>Africa</td>
      <td>Eastern Africa</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>lithiumres_kt</td>
      <td>480.000000</td>
    </tr>
  </tbody>
</table>
<p>293234 rows × 12 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;According to the dataset dictionary, </span>
<span class="sd">   in the column titled “Var,” the entries labeled &quot;tes_gj_pc&quot; refer to total energy supply per capita. </span>
<span class="sd">   Therefore, we need to use &quot;tes_gj_pc&quot; as the identifier </span>
<span class="sd">   to filter out all observations corresponding to total energy supply per capita.&quot;&quot;&quot;</span>
<span class="n">energy_supply_per_capita</span><span class="o">=</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Var&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;tes_gj_pc&quot;</span><span class="p">]</span>
<span class="n">energy_supply_per_capita</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Year</th>
      <th>ISO3166_alpha3</th>
      <th>ISO3166_numeric</th>
      <th>Region</th>
      <th>SubRegion</th>
      <th>OPEC</th>
      <th>EU</th>
      <th>OECD</th>
      <th>CIS</th>
      <th>Var</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>28</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.001426</td>
    </tr>
    <tr>
      <th>58</th>
      <td>Algeria</td>
      <td>1966</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>8.331651</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Algeria</td>
      <td>1967</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.673287</td>
    </tr>
    <tr>
      <th>118</th>
      <td>Algeria</td>
      <td>1968</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.992000</td>
    </tr>
    <tr>
      <th>148</th>
      <td>Algeria</td>
      <td>1969</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>8.771010</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>292699</th>
      <td>Vietnam</td>
      <td>2020</td>
      <td>VNM</td>
      <td>704.0</td>
      <td>Asia Pacific</td>
      <td>Asia Pacific</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>40.047866</td>
    </tr>
    <tr>
      <th>292757</th>
      <td>Vietnam</td>
      <td>2021</td>
      <td>VNM</td>
      <td>704.0</td>
      <td>Asia Pacific</td>
      <td>Asia Pacific</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>38.151021</td>
    </tr>
    <tr>
      <th>292815</th>
      <td>Vietnam</td>
      <td>2022</td>
      <td>VNM</td>
      <td>704.0</td>
      <td>Asia Pacific</td>
      <td>Asia Pacific</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>39.123704</td>
    </tr>
    <tr>
      <th>292873</th>
      <td>Vietnam</td>
      <td>2023</td>
      <td>VNM</td>
      <td>704.0</td>
      <td>Asia Pacific</td>
      <td>Asia Pacific</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>42.597552</td>
    </tr>
    <tr>
      <th>292931</th>
      <td>Vietnam</td>
      <td>2024</td>
      <td>VNM</td>
      <td>704.0</td>
      <td>Asia Pacific</td>
      <td>Asia Pacific</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>45.410054</td>
    </tr>
  </tbody>
</table>
<p>6300 rows × 12 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check the number of countries recorded in the dataset</span>
<span class="n">number_of_countries</span><span class="o">=</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
<span class="n">number_of_countries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>105
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check whether the values we are plotting are stored as floats or ints rather than as objects.</span>
<span class="n">energy_supply_per_capita</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Country             object
Year                 int64
ISO3166_alpha3      object
ISO3166_numeric    float64
Region              object
SubRegion           object
OPEC               float64
EU                 float64
OECD               float64
CIS                float64
Var                 object
Value              float64
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, plot all 105 countries in a single graph to get an initial sense of the overall pattern.</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">energy_supply_per_capita</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Total Energy Supply per Capita&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="s2">&quot;Energy Supply per Capita (GJ)&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>From the chart, we can see that most countries have an energy supply per capita below 400 GJ per person. A few countries stand out with exceptionally high values that clearly deviate from the global majority. In addition, because the figure includes many countries and thus many overlapping lines, the overall trend is difficult to interpret directly.</p>
<p>Therefore, in the sections below, I focus on analyzing the countries with the most extreme values and comparing patterns across different groups of countries.</p>
<p>First, we focus on the most recent data—specifically the values for 2024—to examine the current global landscape of energy supply per capita.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># we filter the dataset to include only the observations corresponding to the year 2024</span>
<span class="n">supply_2024</span><span class="o">=</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">2024</span><span class="p">]</span>
<span class="n">supply_2024</span><span class="o">=</span><span class="n">supply_2024</span><span class="p">[[</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span><span class="s2">&quot;Value&quot;</span><span class="p">]]</span>
<span class="n">supply_2024</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2491</th>
      <td>Algeria</td>
      <td>58.376220</td>
    </tr>
    <tr>
      <th>5883</th>
      <td>Argentina</td>
      <td>71.635142</td>
    </tr>
    <tr>
      <th>9088</th>
      <td>Australia</td>
      <td>204.773316</td>
    </tr>
    <tr>
      <th>11343</th>
      <td>Austria</td>
      <td>122.691568</td>
    </tr>
    <tr>
      <th>13353</th>
      <td>Azerbaijan</td>
      <td>70.544209</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>284153</th>
      <td>US</td>
      <td>265.851326</td>
    </tr>
    <tr>
      <th>285341</th>
      <td>USSR</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>287409</th>
      <td>Uzbekistan</td>
      <td>66.816470</td>
    </tr>
    <tr>
      <th>290140</th>
      <td>Venezuela</td>
      <td>73.865693</td>
    </tr>
    <tr>
      <th>292931</th>
      <td>Vietnam</td>
      <td>45.410054</td>
    </tr>
  </tbody>
</table>
<p>105 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot higtogram of energy supply per capita in 2024 of countries to see the distribution</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">supply_2024</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Conclusion drawing from the histogram above:</p>
<p>Most countries’ energy supply per capita falls within the range of 0 to 225 gigajoules per person. The distribution is strongly right-skewed, with the majority of countries clustered at low to moderate energy supply levels, and only a small number exhibiting extremely high values. The long right tail is likely driven by a handful of energy-rich or energy-intensive economies, including fossil-fuel exporters and high-latitude industrial nations with substantial heating and power demands.</p>
<p>Overall, the variation in energy supply across countries is substantial, with a few clear outliers that display exceptionally high levels of per-capita energy supply.</p>
<p>Let’s take a closer look at which countries exhibit exceptionally high levels of per-capita energy supply.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">supply_2024_sorted</span> <span class="o">=</span> <span class="n">supply_2024</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">supply_2024_sorted</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>70256</th>
      <td>Iceland</td>
      <td>787.648188</td>
    </tr>
    <tr>
      <th>173021</th>
      <td>Qatar</td>
      <td>768.497595</td>
    </tr>
    <tr>
      <th>183652</th>
      <td>Singapore</td>
      <td>649.191172</td>
    </tr>
    <tr>
      <th>276609</th>
      <td>United Arab Emirates</td>
      <td>496.511503</td>
    </tr>
    <tr>
      <th>98351</th>
      <td>Kuwait</td>
      <td>382.951440</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The table above shows the five countries with the highest total energy supply per capita in 2024: Iceland, Qatar, Singapore, the United Arab Emirates, and Kuwait.</p>
<p>The countries with the highest per-capita energy supply all have energy-rich industrial structures (oil/gas extraction, refining, LNG processing, or aluminum smelting), and/or very small populations, which magnify per-capita values.</p>
<p>In addition, many of these economies are located in extreme climates—either very cold (Iceland) or very hot (Qatar, UAE, Kuwait, Singapore)—which further increases energy demand for heating or cooling.</p>
<p>Next, we rank all countries based on their average energy supply per capita over the entire period and identify the top 5% and bottom 5% groups. We then examine the long-term trends of these two sets of countries to compare how their energy supply has evolved over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate mean of value for each countries over time</span>
<span class="n">avg_supply</span> <span class="o">=</span> <span class="n">energy_supply_per_capita</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Country&quot;</span><span class="p">)[</span><span class="s2">&quot;Value&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">avg_supply</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Country
Algeria                  37.162208
Argentina                62.547454
Australia               208.428584
Austria                 127.035174
Azerbaijan               49.448155
                           ...    
United Arab Emirates    446.716748
United Kingdom          146.846557
Uzbekistan               48.832140
Venezuela                89.220198
Vietnam                  12.961076
Name: Value, Length: 105, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the bottom 5% countries: </span>
<span class="c1"># step 1.find the value of bottom 5%(threshold)</span>
<span class="n">bottom_cutoff</span> <span class="o">=</span> <span class="n">avg_supply</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">bottom_cutoff</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>np.float64(8.257472962384258)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fing the countries that lower than that threshold</span>
<span class="n">bottom_countries</span> <span class="o">=</span> <span class="n">avg_supply</span><span class="p">[</span><span class="n">avg_supply</span> <span class="o">&lt;</span> <span class="n">bottom_cutoff</span><span class="p">]</span>
<span class="n">bottom_countries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Country
Bangladesh              3.879342
Other Africa            5.112582
Sri Lanka               8.058516
Total Eastern Africa    3.487266
Total Middle Africa     3.628547
Total Western Africa    4.782068
Name: Value, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># form a new series for bottom 5% countries in order to plot them</span>
<span class="n">bottom_countries_supply</span> <span class="o">=</span> <span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">bottom_countries</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>

<span class="c1"># draw a line plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">bottom_countries_supply</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Total energy supply per capita over time by country, 5th percentile&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="s2">&quot;Energy Supply per Capita (GJ)&quot;</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the top 5% countries</span>
<span class="n">top_cutoff</span> <span class="o">=</span> <span class="n">avg_supply</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.95</span><span class="p">)</span>
<span class="n">top_countries</span> <span class="o">=</span> <span class="n">avg_supply</span><span class="p">[</span><span class="n">avg_supply</span> <span class="o">&gt;</span> <span class="n">top_cutoff</span><span class="p">]</span>
<span class="n">top_countries</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Country
Iceland                 397.419589
Kuwait                  351.007027
Luxembourg              347.610424
Qatar                   667.463563
Singapore               355.806392
United Arab Emirates    446.716748
Name: Value, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># form a new series for bottom 5% countries in order to plot them</span>
<span class="n">top_countries_supply</span> <span class="o">=</span> <span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top_countries</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>

<span class="c1"># draw a line plot of them</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">top_countries_supply</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Total energy supply per capita over time by country, 95th percentile&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="s2">&quot;Energy Supply per Capita (GJ)&quot;</span><span class="p">},</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>By comparing the long-term trends in energy supply per capita for the bottom 5% of countries and the top 5% from 1965 to 2024, we observe that although energy supply has generally increased worldwide, countries with high per-capita energy supply exhibit much more pronounced and volatile fluctuations over time. In contrast, countries with low per-capita energy supply show a steady, gradual upward trend with far fewer dramatic changes.</p>
<p>It might because high-energy-supply countries respond strongly to global commodity cycles, industrial fluctuations, and resource-sector shocks, whereas low-energy-supply countries move gradually with development and electrification.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="second-dataset-gdp-per-capita">
<h1>Second Dataset: GDP per capita<a class="headerlink" href="#second-dataset-gdp-per-capita" title="Link to this heading">#</a></h1>
<p>The dataset including GDP per capita is from World Bank website: <a class="reference external" href="https://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators">https://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the dataset that includes GDP per capita data</span>
<span class="n">GDP_per_capita</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;WDICSV.csv&quot;</span><span class="p">)</span>
<span class="n">GDP_per_capita</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Name</th>
      <th>Country Code</th>
      <th>Indicator Name</th>
      <th>Indicator Code</th>
      <th>1960</th>
      <th>1961</th>
      <th>1962</th>
      <th>1963</th>
      <th>1964</th>
      <th>1965</th>
      <th>...</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>2023</th>
      <th>2024</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>Access to clean fuels and technologies for coo...</td>
      <td>EG.CFT.ACCS.ZS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>18.001597</td>
      <td>18.558234</td>
      <td>19.043572</td>
      <td>19.586457</td>
      <td>20.192064</td>
      <td>20.828814</td>
      <td>21.372164</td>
      <td>22.100884</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>Access to clean fuels and technologies for coo...</td>
      <td>EG.CFT.ACCS.RU.ZS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>7.096003</td>
      <td>7.406706</td>
      <td>7.666648</td>
      <td>8.020952</td>
      <td>8.403358</td>
      <td>8.718306</td>
      <td>9.097176</td>
      <td>9.473374</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>Access to clean fuels and technologies for coo...</td>
      <td>EG.CFT.ACCS.UR.ZS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>38.488233</td>
      <td>38.779953</td>
      <td>39.068462</td>
      <td>39.445526</td>
      <td>39.818645</td>
      <td>40.276374</td>
      <td>40.687817</td>
      <td>41.211606</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>Access to electricity (% of population)</td>
      <td>EG.ELC.ACCS.ZS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>33.922276</td>
      <td>38.859598</td>
      <td>40.223744</td>
      <td>43.035073</td>
      <td>44.390861</td>
      <td>46.282371</td>
      <td>48.127211</td>
      <td>48.801258</td>
      <td>50.668330</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>Access to electricity, rural (% of rural popul...</td>
      <td>EG.ELC.ACCS.RU.ZS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>16.527554</td>
      <td>24.627753</td>
      <td>25.432092</td>
      <td>27.061929</td>
      <td>29.154282</td>
      <td>31.022083</td>
      <td>32.809138</td>
      <td>33.783960</td>
      <td>35.375216</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 69 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter out all entries in the dataset that correspond to GDP per capita.</span>
<span class="n">GDP_per_capita</span><span class="o">=</span><span class="n">GDP_per_capita</span><span class="p">[</span><span class="n">GDP_per_capita</span><span class="p">[</span><span class="s2">&quot;Indicator Name&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;GDP per capita (current US$)&quot;</span><span class="p">]</span>
<span class="n">GDP_per_capita</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Name</th>
      <th>Country Code</th>
      <th>Indicator Name</th>
      <th>Indicator Code</th>
      <th>1960</th>
      <th>1961</th>
      <th>1962</th>
      <th>1963</th>
      <th>1964</th>
      <th>1965</th>
      <th>...</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
      <th>2023</th>
      <th>2024</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>522</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>186.121835</td>
      <td>186.941781</td>
      <td>197.402402</td>
      <td>225.440494</td>
      <td>208.999748</td>
      <td>226.876513</td>
      <td>...</td>
      <td>1479.615260</td>
      <td>1329.807285</td>
      <td>1520.212231</td>
      <td>1538.901679</td>
      <td>1493.817938</td>
      <td>1344.103210</td>
      <td>1522.393346</td>
      <td>1628.318944</td>
      <td>1510.742951</td>
      <td>1567.635839</td>
    </tr>
    <tr>
      <th>2038</th>
      <td>Africa Western and Central</td>
      <td>AFW</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>121.939925</td>
      <td>127.454189</td>
      <td>133.827044</td>
      <td>139.008291</td>
      <td>148.549379</td>
      <td>155.565216</td>
      <td>...</td>
      <td>1860.727694</td>
      <td>1630.039447</td>
      <td>1574.230560</td>
      <td>1720.140280</td>
      <td>1798.340685</td>
      <td>1680.039332</td>
      <td>1765.954788</td>
      <td>1796.668633</td>
      <td>1599.392983</td>
      <td>1284.154441</td>
    </tr>
    <tr>
      <th>3554</th>
      <td>Arab World</td>
      <td>ARB</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>NaN</td>
      <td>212.889663</td>
      <td>210.805415</td>
      <td>225.800630</td>
      <td>243.897432</td>
      <td>256.180141</td>
      <td>...</td>
      <td>6262.041685</td>
      <td>6012.512444</td>
      <td>6066.726791</td>
      <td>6668.216728</td>
      <td>6638.485415</td>
      <td>5722.480995</td>
      <td>6681.708952</td>
      <td>7931.617893</td>
      <td>7479.688091</td>
      <td>7521.153309</td>
    </tr>
    <tr>
      <th>5070</th>
      <td>Caribbean small states</td>
      <td>CSS</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>455.490442</td>
      <td>486.571130</td>
      <td>507.847334</td>
      <td>530.733581</td>
      <td>555.235937</td>
      <td>584.032637</td>
      <td>...</td>
      <td>14402.472578</td>
      <td>13297.744350</td>
      <td>13637.120721</td>
      <td>13815.326515</td>
      <td>13938.202320</td>
      <td>11925.757395</td>
      <td>13833.309930</td>
      <td>17355.836658</td>
      <td>17582.263680</td>
      <td>20173.956475</td>
    </tr>
    <tr>
      <th>6586</th>
      <td>Central Europe and the Baltics</td>
      <td>CEB</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>12596.947506</td>
      <td>12874.740692</td>
      <td>14339.858061</td>
      <td>16245.193865</td>
      <td>16551.848892</td>
      <td>16595.935270</td>
      <td>19239.818502</td>
      <td>19548.693048</td>
      <td>22699.535173</td>
      <td>24543.304055</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>396198</th>
      <td>Virgin Islands (U.S.)</td>
      <td>VIR</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>34007.352941</td>
      <td>35324.974887</td>
      <td>35365.069304</td>
      <td>36663.208755</td>
      <td>38633.529892</td>
      <td>39787.374165</td>
      <td>42571.077737</td>
      <td>44320.909186</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>397714</th>
      <td>West Bank and Gaza</td>
      <td>PSE</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>3272.154324</td>
      <td>3527.613824</td>
      <td>3620.360487</td>
      <td>3562.330943</td>
      <td>3656.858271</td>
      <td>3233.568638</td>
      <td>3678.635657</td>
      <td>3799.955270</td>
      <td>3455.028529</td>
      <td>2592.305912</td>
    </tr>
    <tr>
      <th>399230</th>
      <td>Yemen, Rep.</td>
      <td>YEM</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>1362.173812</td>
      <td>975.359417</td>
      <td>811.165970</td>
      <td>633.887202</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>400746</th>
      <td>Zambia</td>
      <td>ZMB</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>221.559849</td>
      <td>209.693206</td>
      <td>202.281031</td>
      <td>203.219451</td>
      <td>229.979246</td>
      <td>287.425476</td>
      <td>...</td>
      <td>1295.877887</td>
      <td>1239.085279</td>
      <td>1483.465773</td>
      <td>1463.899979</td>
      <td>1258.986198</td>
      <td>951.644317</td>
      <td>1127.160779</td>
      <td>1447.123101</td>
      <td>1330.727806</td>
      <td>1235.084665</td>
    </tr>
    <tr>
      <th>402262</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>GDP per capita (current US$)</td>
      <td>NY.GDP.PCAP.CD</td>
      <td>276.419784</td>
      <td>279.016489</td>
      <td>275.545608</td>
      <td>277.005701</td>
      <td>281.744539</td>
      <td>294.145359</td>
      <td>...</td>
      <td>1386.418559</td>
      <td>1407.420964</td>
      <td>3448.086991</td>
      <td>2271.852504</td>
      <td>1683.913136</td>
      <td>1730.453910</td>
      <td>1724.387271</td>
      <td>2040.546587</td>
      <td>2156.034093</td>
      <td>2656.409377</td>
    </tr>
  </tbody>
</table>
<p>266 rows × 69 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reshape the table from a wide format to a long format </span>
<span class="c1"># so that Plotly can more easily read, interpret, and visualize the data</span>
<span class="n">GDP_per_capita</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">GDP_per_capita</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Indicator Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Indicator Code&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">melt</span><span class="p">(</span>
        <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Country Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Country Code&quot;</span><span class="p">],</span>
        <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
        <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;GDP per Capita&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="p">)</span>

<span class="n">GDP_per_capita</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country Name</th>
      <th>Country Code</th>
      <th>Year</th>
      <th>GDP per Capita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Africa Eastern and Southern</td>
      <td>AFE</td>
      <td>1960</td>
      <td>186.121835</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Africa Western and Central</td>
      <td>AFW</td>
      <td>1960</td>
      <td>121.939925</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Caribbean small states</td>
      <td>CSS</td>
      <td>1960</td>
      <td>455.490442</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Early-demographic dividend</td>
      <td>EAR</td>
      <td>1960</td>
      <td>149.209963</td>
    </tr>
    <tr>
      <th>6</th>
      <td>East Asia &amp; Pacific</td>
      <td>EAS</td>
      <td>1960</td>
      <td>150.820305</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>17282</th>
      <td>Vanuatu</td>
      <td>VUT</td>
      <td>2024</td>
      <td>3542.810716</td>
    </tr>
    <tr>
      <th>17284</th>
      <td>Viet Nam</td>
      <td>VNM</td>
      <td>2024</td>
      <td>4717.290287</td>
    </tr>
    <tr>
      <th>17286</th>
      <td>West Bank and Gaza</td>
      <td>PSE</td>
      <td>2024</td>
      <td>2592.305912</td>
    </tr>
    <tr>
      <th>17288</th>
      <td>Zambia</td>
      <td>ZMB</td>
      <td>2024</td>
      <td>1235.084665</td>
    </tr>
    <tr>
      <th>17289</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>2024</td>
      <td>2656.409377</td>
    </tr>
  </tbody>
</table>
<p>14541 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check whether “Year” and “GDP per capita” are in the appropriate formats for plotting.</span>
<span class="n">GDP_per_capita</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 14541 entries, 0 to 17289
Data columns (total 4 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   Country Name    14541 non-null  object 
 1   Country Code    14541 non-null  object 
 2   Year            14541 non-null  object 
 3   GDP per Capita  14541 non-null  float64
dtypes: float64(1), object(3)
memory usage: 568.0+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot; From the results above, we can see that the Year variable is stored as an object, </span>
<span class="sd">    which may cause issues when plotting. </span>
<span class="sd">    Therefore, we need to convert this variable to an integer format.&quot;&quot;&quot;</span>
<span class="n">GDP_per_capita</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">GDP_per_capita</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>GDP per capita is a widely used and well-studied indicator, and it is commonly visualized as a time-series to examine how a country’s level of economic development changes over time. In addition to this conventional approach, I wanted to explore the data from a different perspective.</p>
<p>I divided the timeline into roughly 10-year intervals and plotted the global distribution of GDP per capita for the years 1960, 1970, 1980, 1990, 2000, 2010, 2020, and 2024. By comparing these distribution plots across different decades, we can observe how the global income distribution — and the gap between high-income and low-income countries — has evolved over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select several years and make graph of GDP per capita distribution in these years</span>
<span class="n">selected_years</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1960</span><span class="p">,</span> <span class="mi">1970</span><span class="p">,</span> <span class="mi">1980</span><span class="p">,</span> <span class="mi">1990</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2010</span><span class="p">,</span> <span class="mi">2020</span><span class="p">,</span> <span class="mi">2024</span><span class="p">]</span>
<span class="n">GDP_per_capita_subset</span> <span class="o">=</span> <span class="n">GDP_per_capita</span><span class="p">[</span><span class="n">GDP_per_capita</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">selected_years</span><span class="p">)]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
    <span class="n">GDP_per_capita_subset</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;GDP per Capita&quot;</span><span class="p">,</span>
    <span class="n">facet_col</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>                
    <span class="n">facet_col_wrap</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>                
    <span class="n">nbins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>                       
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Global GDP per Capita Distribution (Selected Years)&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;GDP_per_capita&quot;</span><span class="p">:</span> <span class="s2">&quot;GDP per Capita (USD)&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>As the histograms show, global GDP per capita has increased substantially from 1960 to 2024, but the growth has been highly uneven across countries. The right tail of the distribution becomes longer over time, indicating that high-income countries have pulled further ahead, while many low-income countries remain clustered at the lower end of the distribution.</p>
<p>The rise of a sizable middle-income group is evident. Meanwhile, a few countries emerge as extreme high-income outliers in recent decades. Overall, the distributional patterns suggest that although the world has become wealthier, income inequality between countries has widened.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="merge-two-datasets-together-and-analyze">
<h1>Merge two datasets together and analyze<a class="headerlink" href="#merge-two-datasets-together-and-analyze" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, check whether the merge keys in the two datasets follow the same naming and formatting conventions. </span>
<span class="c1"># If they do not match, the data needs to be cleaned before merging.</span>
<span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Algeria&#39;, &#39;Argentina&#39;, &#39;Australia&#39;, &#39;Austria&#39;, &#39;Azerbaijan&#39;,
       &#39;Bangladesh&#39;, &#39;Belarus&#39;, &#39;Belgium&#39;, &#39;Brazil&#39;, &#39;Bulgaria&#39;, &#39;Canada&#39;,
       &#39;Chile&#39;, &#39;China&#39;, &#39;China Hong Kong SAR&#39;, &#39;Colombia&#39;, &#39;Croatia&#39;,
       &#39;Cyprus&#39;, &#39;Czech Republic&#39;, &#39;Denmark&#39;, &#39;Ecuador&#39;, &#39;Egypt&#39;,
       &#39;Estonia&#39;, &#39;Finland&#39;, &#39;France&#39;, &#39;Germany&#39;, &#39;Greece&#39;, &#39;Hungary&#39;,
       &#39;Iceland&#39;, &#39;India&#39;, &#39;Indonesia&#39;, &#39;Iran&#39;, &#39;Iraq&#39;, &#39;Ireland&#39;,
       &#39;Israel&#39;, &#39;Italy&#39;, &#39;Japan&#39;, &#39;Kazakhstan&#39;, &#39;Kuwait&#39;, &#39;Latvia&#39;,
       &#39;Lithuania&#39;, &#39;Luxembourg&#39;, &#39;Malaysia&#39;, &#39;Mexico&#39;, &#39;Morocco&#39;,
       &#39;Netherlands&#39;, &#39;New Zealand&#39;, &#39;North Macedonia&#39;, &#39;Norway&#39;, &#39;Oman&#39;,
       &#39;Other Africa&#39;, &#39;Other Asia Pacific&#39;, &#39;Other Caribbean&#39;,
       &#39;Other CIS&#39;, &#39;Other Europe&#39;, &#39;Other Middle East&#39;,
       &#39;Other Northern Africa&#39;, &#39;Other S. &amp; Cent. America&#39;,
       &#39;Other South America&#39;, &#39;Other Southern Africa&#39;, &#39;Pakistan&#39;, &#39;Peru&#39;,
       &#39;Philippines&#39;, &#39;Poland&#39;, &#39;Portugal&#39;, &#39;Qatar&#39;, &#39;Romania&#39;,
       &#39;Russian Federation&#39;, &#39;Saudi Arabia&#39;, &#39;Singapore&#39;, &#39;Slovakia&#39;,
       &#39;Slovenia&#39;, &#39;South Africa&#39;, &#39;South Korea&#39;, &#39;Spain&#39;, &#39;Sri Lanka&#39;,
       &#39;Sweden&#39;, &#39;Switzerland&#39;, &#39;Taiwan&#39;, &#39;Thailand&#39;, &#39;Total Africa&#39;,
       &#39;Total Asia Pacific&#39;, &#39;Total Central America&#39;, &#39;Total CIS&#39;,
       &#39;Total Eastern Africa&#39;, &#39;Total EU&#39;, &#39;Total Europe&#39;,
       &#39;Total Middle Africa&#39;, &#39;Total Middle East&#39;, &#39;Total Non-OECD&#39;,
       &#39;Total North America&#39;, &#39;Total OECD&#39;, &#39;Total S. &amp; Cent. America&#39;,
       &#39;Total Western Africa&#39;, &#39;Total World&#39;, &#39;Trinidad &amp; Tobago&#39;,
       &#39;Turkiye&#39;, &#39;Turkmenistan&#39;, &#39;Ukraine&#39;, &#39;United Arab Emirates&#39;,
       &#39;United Kingdom&#39;, &#39;US&#39;, &#39;USSR&#39;, &#39;Uzbekistan&#39;, &#39;Venezuela&#39;,
       &#39;Vietnam&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GDP_per_capita</span><span class="p">[</span><span class="s2">&quot;Country Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Africa Eastern and Southern&#39;, &#39;Africa Western and Central&#39;,
       &#39;Caribbean small states&#39;, &#39;Early-demographic dividend&#39;,
       &#39;East Asia &amp; Pacific&#39;,
       &#39;East Asia &amp; Pacific (excluding high income)&#39;,
       &#39;East Asia &amp; Pacific (IDA &amp; IBRD countries)&#39;, &#39;Euro area&#39;,
       &#39;Europe &amp; Central Asia&#39;, &#39;European Union&#39;,
       &#39;Fragile and conflict affected situations&#39;,
       &#39;Heavily indebted poor countries (HIPC)&#39;, &#39;High income&#39;,
       &#39;IBRD only&#39;, &#39;IDA &amp; IBRD total&#39;, &#39;IDA blend&#39;, &#39;IDA only&#39;,
       &#39;IDA total&#39;, &#39;Late-demographic dividend&#39;,
       &#39;Latin America &amp; Caribbean&#39;,
       &#39;Latin America &amp; Caribbean (excluding high income)&#39;,
       &#39;Latin America &amp; the Caribbean (IDA &amp; IBRD countries)&#39;,
       &#39;Least developed countries: UN classification&#39;,
       &#39;Low &amp; middle income&#39;, &#39;Lower middle income&#39;,
       &#39;Middle East, North Africa, Afghanistan &amp; Pakistan&#39;,
       &#39;Middle East, North Africa, Afghanistan &amp; Pakistan (excluding high income)&#39;,
       &#39;Middle East, North Africa, Afghanistan &amp; Pakistan (IDA &amp; IBRD)&#39;,
       &#39;Middle income&#39;, &#39;North America&#39;, &#39;OECD members&#39;,
       &#39;Post-demographic dividend&#39;, &#39;Pre-demographic dividend&#39;,
       &#39;South Asia&#39;, &#39;South Asia (IDA &amp; IBRD)&#39;, &#39;Sub-Saharan Africa&#39;,
       &#39;Sub-Saharan Africa (excluding high income)&#39;,
       &#39;Sub-Saharan Africa (IDA &amp; IBRD countries)&#39;, &#39;Upper middle income&#39;,
       &#39;World&#39;, &#39;Algeria&#39;, &#39;Argentina&#39;, &#39;Australia&#39;, &#39;Austria&#39;,
       &#39;Bahamas, The&#39;, &#39;Bangladesh&#39;, &#39;Barbados&#39;, &#39;Belgium&#39;, &#39;Belize&#39;,
       &#39;Benin&#39;, &#39;Bermuda&#39;, &#39;Bolivia&#39;, &#39;Botswana&#39;, &#39;Brazil&#39;,
       &#39;Burkina Faso&#39;, &#39;Burundi&#39;, &#39;Cameroon&#39;, &#39;Canada&#39;,
       &#39;Central African Republic&#39;, &#39;Chad&#39;, &#39;Chile&#39;, &#39;China&#39;, &#39;Colombia&#39;,
       &#39;Congo, Dem. Rep.&#39;, &#39;Congo, Rep.&#39;, &#39;Costa Rica&#39;, &quot;Cote d&#39;Ivoire&quot;,
       &#39;Denmark&#39;, &#39;Dominican Republic&#39;, &#39;Ecuador&#39;, &#39;Egypt, Arab Rep.&#39;,
       &#39;Eswatini&#39;, &#39;Ethiopia&#39;, &#39;Fiji&#39;, &#39;Finland&#39;, &#39;France&#39;, &#39;Gabon&#39;,
       &#39;Germany&#39;, &#39;Ghana&#39;, &#39;Greece&#39;, &#39;Guatemala&#39;, &#39;Guyana&#39;, &#39;Haiti&#39;,
       &#39;Honduras&#39;, &#39;Hong Kong SAR, China&#39;, &#39;Iceland&#39;, &#39;India&#39;,
       &#39;Iran, Islamic Rep.&#39;, &#39;Iraq&#39;, &#39;Ireland&#39;, &#39;Israel&#39;, &#39;Italy&#39;,
       &#39;Jamaica&#39;, &#39;Japan&#39;, &#39;Kenya&#39;, &#39;Korea, Rep.&#39;, &#39;Lesotho&#39;, &#39;Liberia&#39;,
       &#39;Libya&#39;, &#39;Luxembourg&#39;, &#39;Madagascar&#39;, &#39;Malaysia&#39;, &#39;Mauritius&#39;,
       &#39;Mexico&#39;, &#39;Morocco&#39;, &#39;Myanmar&#39;, &#39;Nepal&#39;, &#39;Netherlands&#39;,
       &#39;New Zealand&#39;, &#39;Nicaragua&#39;, &#39;Niger&#39;, &#39;Nigeria&#39;, &#39;Norway&#39;, &#39;Oman&#39;,
       &#39;Pakistan&#39;, &#39;Panama&#39;, &#39;Papua New Guinea&#39;, &#39;Paraguay&#39;, &#39;Peru&#39;,
       &#39;Philippines&#39;, &#39;Portugal&#39;, &#39;Puerto Rico (US)&#39;, &#39;Rwanda&#39;,
       &#39;Saudi Arabia&#39;, &#39;Senegal&#39;, &#39;Seychelles&#39;, &#39;Sierra Leone&#39;,
       &#39;Singapore&#39;, &#39;Somalia, Fed. Rep.&#39;, &#39;South Africa&#39;, &#39;Spain&#39;,
       &#39;Sri Lanka&#39;, &#39;St. Kitts and Nevis&#39;,
       &#39;St. Vincent and the Grenadines&#39;, &#39;Sudan&#39;, &#39;Suriname&#39;, &#39;Sweden&#39;,
       &#39;Switzerland&#39;, &#39;Syrian Arab Republic&#39;, &#39;Tanzania&#39;, &#39;Thailand&#39;,
       &#39;Togo&#39;, &#39;Trinidad and Tobago&#39;, &#39;Turkiye&#39;, &#39;Uganda&#39;,
       &#39;United Kingdom&#39;, &#39;United States&#39;, &#39;Uruguay&#39;, &#39;Venezuela, RB&#39;,
       &#39;Zambia&#39;, &#39;Zimbabwe&#39;, &#39;Arab World&#39;, &#39;Mauritania&#39;, &#39;Tunisia&#39;,
       &#39;Equatorial Guinea&#39;, &#39;Kuwait&#39;, &#39;Brunei Darussalam&#39;, &#39;El Salvador&#39;,
       &#39;Faroe Islands&#39;, &#39;French Polynesia&#39;, &#39;Jordan&#39;, &#39;New Caledonia&#39;,
       &#39;Gambia, The&#39;, &#39;Low income&#39;, &#39;Indonesia&#39;, &#39;Mali&#39;,
       &#39;Solomon Islands&#39;, &#39;Hungary&#39;, &#39;Pacific island small states&#39;,
       &#39;Small states&#39;, &#39;Andorra&#39;, &#39;Bahrain&#39;, &#39;Bhutan&#39;, &#39;Cuba&#39;,
       &#39;Greenland&#39;, &#39;Guinea&#39;, &#39;Guinea-Bissau&#39;, &#39;Kiribati&#39;,
       &#39;Liechtenstein&#39;, &#39;Maldives&#39;, &#39;Malta&#39;, &#39;Marshall Islands&#39;,
       &#39;Micronesia, Fed. Sts.&#39;, &#39;Monaco&#39;, &#39;Nauru&#39;, &#39;Palau&#39;, &#39;Qatar&#39;,
       &#39;Samoa&#39;, &#39;Sao Tome and Principe&#39;, &#39;Tuvalu&#39;, &#39;United Arab Emirates&#39;,
       &#39;Other small states&#39;, &#39;Cambodia&#39;, &#39;Cyprus&#39;, &#39;Tonga&#39;,
       &#39;Antigua and Barbuda&#39;, &#39;Dominica&#39;, &#39;Grenada&#39;, &#39;Vanuatu&#39;, &#39;Albania&#39;,
       &#39;Angola&#39;, &#39;Bulgaria&#39;, &#39;Cabo Verde&#39;, &#39;Comoros&#39;, &#39;Malawi&#39;,
       &#39;Mongolia&#39;, &#39;Namibia&#39;, &#39;St. Lucia&#39;, &#39;Macao SAR, China&#39;,
       &#39;Isle of Man&#39;, &#39;Lao PDR&#39;, &#39;Djibouti&#39;, &#39;Viet Nam&#39;, &#39;Aruba&#39;,
       &#39;Europe &amp; Central Asia (excluding high income)&#39;, &#39;Georgia&#39;,
       &#39;Romania&#39;, &#39;Turkmenistan&#39;, &#39;Ukraine&#39;, &#39;Uzbekistan&#39;,
       &#39;Europe &amp; Central Asia (IDA &amp; IBRD countries)&#39;, &#39;Lebanon&#39;,
       &#39;Russian Federation&#39;, &#39;Central Europe and the Baltics&#39;, &#39;Armenia&#39;,
       &#39;Azerbaijan&#39;, &#39;Belarus&#39;, &#39;Bosnia and Herzegovina&#39;, &#39;Croatia&#39;,
       &#39;Czechia&#39;, &#39;Kazakhstan&#39;, &#39;Kyrgyz Republic&#39;, &#39;Moldova&#39;,
       &#39;North Macedonia&#39;, &#39;Poland&#39;, &#39;Slovak Republic&#39;, &#39;Slovenia&#39;,
       &#39;Tajikistan&#39;, &#39;Timor-Leste&#39;, &#39;Yemen, Rep.&#39;, &#39;Mozambique&#39;,
       &#39;Eritrea&#39;, &#39;Estonia&#39;, &#39;West Bank and Gaza&#39;, &#39;Latvia&#39;, &#39;Lithuania&#39;,
       &#39;Serbia&#39;, &#39;Montenegro&#39;, &#39;San Marino&#39;, &#39;Channel Islands&#39;,
       &#39;Afghanistan&#39;, &#39;Curacao&#39;, &#39;Turks and Caicos Islands&#39;,
       &#39;American Samoa&#39;, &#39;Guam&#39;, &#39;Northern Mariana Islands&#39;,
       &#39;Virgin Islands (U.S.)&#39;, &#39;Cayman Islands&#39;, &#39;Kosovo&#39;, &#39;South Sudan&#39;,
       &#39;Sint Maarten (Dutch part)&#39;, &#39;St. Martin (French part)&#39;],
      dtype=object)
</pre></div>
</div>
</div>
</div>
<p>We found that a few country names in the energy-supply dataset are written as abbreviations. These abbreviations need to be replaced with their full country names before merging the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;We need to replace all the &quot;US&quot; in energy dataset with &quot;United States&quot;,</span>
<span class="sd">   in this way, they can be same in both datasets to merge&quot;&quot;&quot;</span>

<span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">energy_supply_per_capita</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;US&quot;</span><span class="p">,</span> <span class="s2">&quot;United States&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Yichun Wang\AppData\Local\Temp\ipykernel_18508\3412781407.py:4: SettingWithCopyWarning:


A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge Energy supply dataset and GDP dataset using the key of country name and year</span>
<span class="n">merged_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">left</span><span class="o">=</span><span class="n">energy_supply_per_capita</span><span class="p">,</span> 
    <span class="n">right</span><span class="o">=</span><span class="n">GDP_per_capita</span><span class="p">,</span> 
    <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span> 
    <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Country Name&quot;</span><span class="p">,</span><span class="s2">&quot;Year&quot;</span><span class="p">])</span>
<span class="n">merged_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>Year</th>
      <th>ISO3166_alpha3</th>
      <th>ISO3166_numeric</th>
      <th>Region</th>
      <th>SubRegion</th>
      <th>OPEC</th>
      <th>EU</th>
      <th>OECD</th>
      <th>CIS</th>
      <th>Var</th>
      <th>Value</th>
      <th>Country Name</th>
      <th>Country Code</th>
      <th>GDP per Capita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Algeria</td>
      <td>1965</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.001426</td>
      <td>Algeria</td>
      <td>DZA</td>
      <td>253.622060</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Algeria</td>
      <td>1966</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>8.331651</td>
      <td>Algeria</td>
      <td>DZA</td>
      <td>241.448970</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>1967</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.673287</td>
      <td>Algeria</td>
      <td>DZA</td>
      <td>261.792442</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Algeria</td>
      <td>1968</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>7.992000</td>
      <td>Algeria</td>
      <td>DZA</td>
      <td>292.436036</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Algeria</td>
      <td>1969</td>
      <td>DZA</td>
      <td>12.0</td>
      <td>Africa</td>
      <td>Northern Africa</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>tes_gj_pc</td>
      <td>8.771010</td>
      <td>Algeria</td>
      <td>DZA</td>
      <td>315.914656</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3721</th>
      <td>Uzbekistan</td>
      <td>2020</td>
      <td>UZB</td>
      <td>860.0</td>
      <td>CIS</td>
      <td>CIS</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>tes_gj_pc</td>
      <td>56.988444</td>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>1978.280519</td>
    </tr>
    <tr>
      <th>3722</th>
      <td>Uzbekistan</td>
      <td>2021</td>
      <td>UZB</td>
      <td>860.0</td>
      <td>CIS</td>
      <td>CIS</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>tes_gj_pc</td>
      <td>59.685478</td>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>2258.519641</td>
    </tr>
    <tr>
      <th>3723</th>
      <td>Uzbekistan</td>
      <td>2022</td>
      <td>UZB</td>
      <td>860.0</td>
      <td>CIS</td>
      <td>CIS</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>tes_gj_pc</td>
      <td>60.099621</td>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>2578.666894</td>
    </tr>
    <tr>
      <th>3724</th>
      <td>Uzbekistan</td>
      <td>2023</td>
      <td>UZB</td>
      <td>860.0</td>
      <td>CIS</td>
      <td>CIS</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>tes_gj_pc</td>
      <td>59.396427</td>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>2878.968793</td>
    </tr>
    <tr>
      <th>3725</th>
      <td>Uzbekistan</td>
      <td>2024</td>
      <td>UZB</td>
      <td>860.0</td>
      <td>CIS</td>
      <td>CIS</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>tes_gj_pc</td>
      <td>66.816470</td>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>3161.700106</td>
    </tr>
  </tbody>
</table>
<p>3726 rows × 15 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a scatter plot using all countries and all years </span>
<span class="c1"># Examine the overall relationship between the two variables</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">merged_data</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;GDP per Capita&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Value&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Region&quot;</span><span class="p">,</span>              
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;GDP per Capita vs Energy Supply per Capita (Colored by Region)&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;GDP per capita&quot;</span><span class="p">:</span> <span class="s2">&quot;GDP per Capita (USD)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="s2">&quot;Energy Supply per Capita (GJ)&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="s2">&quot;Region&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Conclusion from the scatter plot above:</p>
<p>Overall, energy supply per capita and GDP per capita show a broadly positive relationship, but the points in the scatter plot are widely dispersed, and many clear exceptions to this pattern exist. For example, in the upper part of the chart, there are several countries whose GDP per capita is not particularly high, yet their energy supply per capita is extremely elevated. Based on the color coding, these points correspond mainly to Middle Eastern countries, where abundant fossil-fuel resources lead to unusually high levels of energy availability and consumption.</p>
<p>In contrast, some countries exhibit high GDP per capita while maintaining relatively low levels of energy supply per capita. These countries are primarily in Europe. Thanks to decades of industrial development, technological advancement, and strong energy-efficiency policies, many European economies generate substantial economic output with comparatively modest energy use.</p>
<p>Most other regions generally follow the expected positive correlation: wealthier countries tend to have greater per-capita energy supply, while lower-income regions cluster at lower energy levels. This mix of patterns highlights not only the global link between income and energy availability but also the structural and regional differences that shape how countries convert energy into economic growth.</p>
<p>Next, we select several representative country from several regions and examine how their GDP per capita and energy supply per capita have evolved over time.
The selected countries are:</p>
<p>Middle East: Qatar</p>
<p>North America: United States</p>
<p>Asia Pacific: China</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;To get a clearer sense of how energy supply and GDP move together over time, </span>
<span class="sd">   I decided to plot both variables on the same chart using a dual-axis line plot. </span>
<span class="sd">   This way, each country gets two lines—one for energy and one for GDP,</span>
<span class="sd">   so we can easily see whether they rise together, diverge, or behave in completely different ways.</span>

<span class="sd">   Since I needed to do this for several countries, </span>
<span class="sd">   writing the same chunk of code over and over would have been painful.</span>
<span class="sd">   So instead, I wrapped everything into a function. </span>
<span class="sd">   Now I can generate the same style of plot for any country with a single line of code. </span>
<span class="sd">   Much cleaner, much smarter, and definitely much kinder to future-me.&quot;&quot;&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_relationship</span><span class="p">(</span><span class="n">country_name</span><span class="p">):</span>
    <span class="c1"># First, filter the big merged dataset so we keep only the rows for this one country.</span>
    <span class="c1"># This gives us a clean, country-specific slice to plot.</span>
    <span class="n">data_country</span> <span class="o">=</span> <span class="n">merged_data</span><span class="p">[</span><span class="n">merged_data</span><span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">country_name</span><span class="p">]</span>

    <span class="c1"># Create a figure that supports 2 y-axes.</span>
    <span class="c1"># This allows us to plot energy supply on one axis and GDP on the other without scaling issues.</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span><span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s2">&quot;secondary_y&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]])</span>

    <span class="c1"># Add the energy supply line (this will go on the left y-axis).</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">data_country</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">data_country</span><span class="p">[</span><span class="s2">&quot;Value&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Energy supply per person over time&quot;</span><span class="p">,</span>   <span class="c1"># Legend label</span>
        <span class="p">),</span>
        <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Tell Plotly this line belongs to the main y-axis</span>
    <span class="p">)</span>

    <span class="c1"># Add the GDP line (this will go on the right y-axis).</span>
    <span class="c1"># Plotting it separately helps us compare trends without forcing them onto the same scale.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">data_country</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span>
            <span class="n">y</span><span class="o">=</span><span class="n">data_country</span><span class="p">[</span><span class="s2">&quot;GDP per Capita&quot;</span><span class="p">],</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;GDP per Capita over time&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">secondary_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># This line belongs to the second y-axis</span>
    <span class="p">)</span>

    <span class="c1"># Give the entire figure a clear title so the reader knows what country we&#39;re looking at.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Energy supply per person vs. GDP per Capita, </span><span class="si">{</span><span class="n">country_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Label the x-axis (horizontal axis).</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">)</span>

    <span class="c1"># Label both y-axes so readers understand which line belongs to which variable.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;Energy Supply per Capita (GJ)&quot;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;GDP per Capita (USD)&quot;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Finally, display the figure.</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot for Qatar</span>
<span class="n">plot_relationship</span><span class="p">(</span><span class="s2">&quot;Qatar&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Qatar’s per-capita energy supply and GDP both show large swings over time, even though the overall long-term trend for both variables is upward. This volatility makes sense once you remember that Qatar is a highly resource-dependent economy. Its economic performance is tightly linked to the energy sector—when energy production or exports fluctuate, GDP tends to move right along with it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot for US</span>
<span class="n">plot_relationship</span><span class="p">(</span><span class="s2">&quot;United States&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>The United States shows a completely different pattern from Qatar. While GDP per capita rises steadily over time, energy supply per capita actually fluctuates and gradually declines. This suggests that the U.S. has managed to grow its economy without increasing per-person energy consumption—an indication of improved efficiency, technological advancement, and a shift toward a more service-oriented economy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot for China</span>
<span class="n">plot_relationship</span><span class="p">(</span><span class="s2">&quot;China&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>China’s chart looks very different from the other two. Both GDP per capita and energy supply per capita explode upward after the early 2000s. GDP growth accelerates rapidly, and energy consumption follows almost the same trajectory.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="conclusion">
<h1>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h1>
<p>There is no single universal relationship between energy supply and GDP.
Instead, the relationship depends heavily on a country’s economic structure, natural resources, and stage of development.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="key-takeaways">
<h1>Key Takeaways:<a class="headerlink" href="#key-takeaways" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Most countries use very little energy per person, while a few resource-rich or climate-extreme countries form a long right tail with exceptionally high values.</p></li>
<li><p>High-energy-supply countries are far more volatile, driven by commodity cycles and resource-sector fluctuations, whereas low-energy-supply countries show slow, steady growth.</p></li>
<li><p>Global GDP per capita has risen but unevenly. The distribution stretches over time, with high-income countries pulling ahead and inequality widening.</p></li>
<li><p>Energy supply and GDP generally move together, but the relationship varies by development model:</p>
<ul class="simple">
<li><p>Qatar links tightly to energy exports,</p></li>
<li><p>The U.S. grows GDP with stable or declining energy use,</p></li>
<li><p>China grows both rapidly during industrialization.</p></li>
</ul>
</li>
<li><p>No single pattern fits all countries. Energy use reflects each nation’s resources, climate, economic structure, and stage of development.</p></li>
</ol>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="project1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Visualization</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">A Visual Exploration of GDP and Energy Supply</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#first-dataset-energy-supply-per-capita">First Dataset: Energy supply per capita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#second-dataset-gdp-per-capita">Second Dataset: GDP per capita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#merge-two-datasets-together-and-analyze">Merge two datasets together and analyze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways:</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yichun
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>